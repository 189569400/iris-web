{% if attributes and attributes|length > 0 %}
    {% for ca in attributes %}
     {% set outer_loop = loop %}
      <div class="tab-pane" id="{{ outer_loop.index }}_{{  ca.lower() | replace(' ', '_' ) }}">
          {% for cle in attributes[ca] %}
                {% set tag_id = cle.lower() | replace(' ', '_' ) %}
                <div class="form-group row">
                    <div class="col-12">

                        {% if attributes[ca][cle]["type"] == "input_string" %}
                         <div class="form-input">
                            <label for="{{ cle }}">{{ cle }}
                            </label>
                            <input type="text" id="inpstd_{{ loop.index }}_{{ tag_id }}"
                                   data-attr-for="{{cle}}" data-ref-tab="{{ca}}" class="form-control col-md-12"
                                    {% if  attributes[ca][cle]['value'] %} value={{ attributes[ca][cle]['value'] }} {% endif %}
                            />
                         </div>
                        {% elif attributes[ca][cle]["type"] == "input_checkbox" %}
                            <div class="form-check">
                                <label class="form-check-label">
                                    <input type="checkbox" id="inpchk_{{ loop.index }}_{{ tag_id }}"
                                           data-attr-for="{{cle}}" data-ref-tab="{{ca}}" class="form-control col-md-12"/>
                                    <span class="form-check-sign"> {{ cle }}
                                    </span>
                                </label>
                            </div>

                        {% elif attributes[ca][cle]["type"] == "input_textfield" %}
                            <div class="form-input">
                                <label for="{{ cle }}">{{ cle }}
                                </label>
                                <textarea class="form-control" id="inpstd_{{ loop.index }}_{{ tag_id }}"
                                              rows="12" style="height:100%;">{{ attributes[ca][cle]['value'] }}</textarea>
                            </div>

                        {% elif attributes[ca][cle]["type"] == "input_select" %}
                            <div class="form-inline">

                                  <label class="my-1 mr-2" for="inpselect_{{ loop.index }}_{{ tag_id }}">{{ cle }}</label>
                                  <select class="custom-select my-1 mr-sm-2" id="inpselect_{{ loop.index }}_{{ tag_id }}">
                                  {% for opt in attributes[ca][cle]['options'] %}
                                    <option {% if opt == attributes[ca][cle]['value'] %} selected {% endif %}>{{ opt }}</option>
                                  {% endfor %}
                                </select>
                            </div>

                        {% elif attributes[ca][cle]["type"] == "raw" %}
                            <p>{{ cle }}</p>

                        {% elif attributes[ca][cle]["type"] == "html" %}
                            {{ attributes[ca][cle]['value']| safe }}

                        {% endif %}
                    </div>
                </div>
           {% endfor %}
      </div>
      {% endfor %}
{% endif %}